{"version":3,"sources":["Components/ListPersons.js","Services/service.js","App.js","index.js"],"names":["ListPersons","persons","filter","removePerson","map","x","name","toLowerCase","indexOf","key","number","type","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","put","Obj","delete","App","useState","setPersons","setFilter","newName","setNewName","newNumber","setNewNumber","setMessage","useEffect","getData","console","log","AxiosServices","listPersonsProps","window","confirm","showMessage","props","setTimeout","value","onChange","event","target","onSubmit","preventDefault","nameAlreadyExists","forEach","person","alert","personObject","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ca4c0ad1.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst ListPersons = ({persons , filter, removePerson}) => {\r\n\r\n    if (persons) return (persons.map((x) => {\r\n        if (x.name.toLowerCase().indexOf(filter.toLowerCase()) !== -1 && filter !== '') {\r\n            return (\r\n                <li key={x.name}>{x.name} {x.number + '  '}\r\n                    <button type=\"submit\" onClick={() => { removePerson(x.name) }}>delete</button>\r\n                </li>\r\n\r\n            )\r\n        } else if (filter === '') {\r\n            return (\r\n                <li key={x.name}>{x.name} {x.number + '  '}\r\n                    <button type=\"submit\" onClick={() => { removePerson(x) }}>delete</button>\r\n                </li>\r\n            )\r\n        } else return (null)\r\n\r\n    })\r\n    )\r\n}\r\nexport default ListPersons","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\nconst deleteObject = (id, Obj) => {\r\n  return axios.delete(`${baseUrl}/${id}`, Obj)\r\n}\r\nexport default {\r\n  getAll: getAll,\r\n  create: create,\r\n  update: update,\r\n  delete: deleteObject\r\n}","import React, { useState, useEffect } from 'react'\r\nimport ListPersons from './Components/ListPersons'\r\nimport AxiosServices from './Services/service'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [filter, setFilter] = useState('')\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [message, setMessage] = useState('')\r\n\r\n  useEffect(() => {\r\n    getData()\r\n  }, [])\r\n\r\n  const getData = () => {\r\n    console.log('Get Data')\r\n    AxiosServices\r\n    .getAll()\r\n    .then(response => {\r\n      setPersons(response.data)\r\n    })\r\n  }\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    var nameAlreadyExists = false\r\n    persons.forEach(person => {\r\n      if (person.name === newName) {\r\n        nameAlreadyExists = true\r\n        if (person.number !== newNumber) {\r\n          if(window.confirm(person.name + ' already exists, replace number?')) {\r\n            person.number = newNumber\r\n            AxiosServices\r\n            .update(person.id, person)\r\n            .then(response => {\r\n              console.log(response)\r\n            })\r\n            \r\n          }\r\n        }\r\n        else {\r\n          alert(`${newName} on jo luettelossa`)\r\n        }\r\n      }\r\n    });\r\n    if (!nameAlreadyExists) {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber,\r\n      }\r\n      AxiosServices\r\n        .create(personObject)\r\n        .then(response => {\r\n          console.log(response)\r\n          personObject.id = response.data.id\r\n          setPersons(persons.concat(personObject))\r\n          showMessage('Success')\r\n        })\r\n    } \r\n    \r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const removePerson = (x) => {\r\n    console.log(x)\r\n    if (window.confirm('Delete ' +x.name+ \"?\")) {\r\n    AxiosServices\r\n    .delete(x.id, x)\r\n    .then(response => {\r\n      console.log(response)\r\n      getData()\r\n      showMessage('Deleted')\r\n    })\r\n}\r\n}\r\n\r\n  const handlePersonsChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    console.log(event.target.value)\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  const listPersonsProps = {\r\n    persons,\r\n    filter,\r\n    removePerson: removePerson\r\n\r\n    // removePerson: (x)=>removePerson(x)  === removePerson: removePerson\r\n  }\r\n  const showMessage = (props) => {\r\n    setMessage(props)\r\n    setTimeout(() => {\r\n      setMessage(null)\r\n    }, 2500)\r\n  }\r\n  return (\r\n    <div>\r\n      <h2>Puhelinluettelo</h2>\r\n      <div>rajaa näytettäviä <input value={filter}\r\n        onChange={handleFilterChange} /></div>\r\n      <h2>Lisää uusi</h2>\r\n      <form onSubmit={addPerson}>\r\n        <div> nimi: <input value={newName}\r\n          onChange={handlePersonsChange} />\r\n          <div>numero: <input value={newNumber}\r\n            onChange={handleNumberChange} /></div>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">lisää</button>\r\n        </div>\r\n      </form>\r\n      <h2>Numerot</h2>\r\n      \r\n      <ListPersons {...listPersonsProps}/>\r\n    </div>\r\n  )\r\n\r\n}\r\nexport default App\r\n//{message&&(<div className='error'>{message}</div>)}  Muista alku! hyödyllinen!!","\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'))"],"sourceRoot":""}